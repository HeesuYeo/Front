<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>16_홀짝게임.html</title>
    <link rel="stylesheet" href="./홀짝게임.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Sunflower:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    
    <h3># 홀짝 게임</h3>

    <ul>
        <li>자바스크립트로 웹 페이지 상에서 동작하는 간단한 홀짝 게임을 만든다.</li>
        <li>나중에 웹 브라우저를 껐다가 키더라도 이름 등의 진행 상황들을 
            그대로 이어갈 수 있도록 만들 것
        </li>
    </ul>

    <div id="container">
        <div id="title">홀짝 게임</div>
        <div id="game">
            <div id="game-panel"></div>
            <button onclick="oddBtn();" id="odd">홀</button>
            <button onclick="evenBtn();" id="even">짝</button>
        </div>
    </div>

    <script>        
        if ((name = localStorage.getItem('name')) === null) {
            // prompt() : 입력받을 수 있는 창을 띄우는 함수
            const name = prompt('당신의 이름은?');
    
            // setItem(key, value) : 로컬 스토리지에 데이터 저장하기
            localStorage.setItem('name', name);
        } else {
            alert(name + '님 환영합니다!');
        }
        
        const gamePanel = document.getElementById('game-panel');

        gamePanel.appendChild(document.createTextNode(`${parseInt(Math.random() * 99 + 1)}`));
        
        const interval = setInterval(() => {
            gamePanel.innerText = parseInt(Math.random() * 99 + 1);
        }, 20);

        function oddBtn() {
            clearInterval(interval);
            if (gamePanel.innerText % 2 === 0) {
                alert('패배');
            } else {
                alert('승리');
            }
        }

        function evenBtn() {
            clearInterval(interval);
            if (gamePanel.innerText % 2 === 0) {
                alert('승리');
            } else {
                alert('패배');
            }

        }

    </script>

</body>
</html>